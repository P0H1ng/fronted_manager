(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e68f4"],{"98ed":function(e,l,t){"use strict";t.r(l);var n=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",[t("el-button",{attrs:{type:"primary"},on:{click:function(l){e.newChallengeDialogVisible=!0}}},[e._v(e._s(e.$t("challenge.new")))]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.challengeList,stripe:""}},[t("el-table-column",{attrs:{width:"80",prop:"ID",label:"ID"}}),t("el-table-column",{attrs:{prop:"Title",label:e.$t("challenge.title")}}),t("el-table-column",{attrs:{prop:"BaseScore",label:e.$t("challenge.base_score")}}),t("el-table-column",{attrs:{prop:"Visible",label:e.$t("challenge.visible")},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v(e._s(l.row.Visible))]}}])}),t("el-table-column",{attrs:{prop:"AutoRefreshFlag",label:e.$t("challenge.auto_refresh_flag")},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v(e._s(l.row.AutoRefreshFlag))]}}])}),t("el-table-column",{attrs:{prop:"Command",label:e.$t("challenge.command")}}),t("el-table-column",{attrs:{label:e.$t("general.create_at"),width:"200",formatter:function(l){return e.utils.FormatGoTime(l.CreatedAt)}}}),t("el-table-column",{attrs:{label:e.$t("general.operate"),width:"300"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-popconfirm",{attrs:{title:l.row.Visible?e.$t("challenge.invisible_title"):e.$t("challenge.visible_title")},on:{onConfirm:function(t){return e.handleVisible(l.row.ID,!l.row.Visible)}}},[t("el-button",{attrs:{slot:"reference",plain:"",size:"mini"},slot:"reference"},[e._v(e._s(e.$t("challenge.set_visible")))])],1),t("el-button",{attrs:{size:"mini"},on:{click:function(){e.editChallengeForm=JSON.parse(JSON.stringify(l.row)),e.editChallengeDialogVisible=!0}}},[e._v(" "+e._s(e.$t("general.edit"))+" ")]),t("el-popconfirm",{attrs:{confirmButtonText:e.$t("general.confirm_cancel"),cancelButtonText:e.$t("general.cancel"),icon:"el-icon-info",iconColor:"red",title:e.$t("challenge.delete_title")},on:{onConfirm:function(t){return e.handleDelete(l.row)}}},[t("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v(e._s(e.$t("general.delete"))+" ")])],1)]}}])})],1),t("el-dialog",{attrs:{title:e.$t("challenge.publish"),visible:e.newChallengeDialogVisible},on:{"update:visible":function(l){e.newChallengeDialogVisible=l}}},[t("el-form",{attrs:{model:e.newChallengeForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:e.$t("challenge.title")}},[t("el-input",{model:{value:e.newChallengeForm.Title,callback:function(l){e.$set(e.newChallengeForm,"Title",l)},expression:"newChallengeForm.Title"}})],1),t("el-form-item",{attrs:{label:e.$t("challenge.base_score")}},[t("el-input-number",{attrs:{min:1},model:{value:e.newChallengeForm.BaseScore,callback:function(l){e.$set(e.newChallengeForm,"BaseScore",l)},expression:"newChallengeForm.BaseScore"}})],1),t("el-form-item",{attrs:{label:e.$t("challenge.auto_refresh_flag")}},[t("el-switch",{model:{value:e.newChallengeForm.AutoRefreshFlag,callback:function(l){e.$set(e.newChallengeForm,"AutoRefreshFlag",l)},expression:"newChallengeForm.AutoRefreshFlag"}})],1),e.newChallengeForm.AutoRefreshFlag?t("el-form-item",{attrs:{label:e.$t("challenge.command")}},[t("el-input",{model:{value:e.newChallengeForm.Command,callback:function(l){e.$set(e.newChallengeForm,"Command",l)},expression:"newChallengeForm.Command"}}),t("span",[e._v(e._s(e.$t("challenge.flag_placeholder"))),t("code",{pre:!0},[e._v("{{FLAG}}")])])],1):e._e()],1),t("el-button",{attrs:{type:"primary"},on:{click:e.onNewChallenge}},[e._v(e._s(e.$t("challenge.publish")))])],1),t("el-dialog",{attrs:{title:e.$t("challenge.edit"),visible:e.editChallengeDialogVisible},on:{"update:visible":function(l){e.editChallengeDialogVisible=l}}},[t("el-form",{attrs:{model:e.editChallengeForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:e.$t("challenge.title")}},[t("el-input",{model:{value:e.editChallengeForm.Title,callback:function(l){e.$set(e.editChallengeForm,"Title",l)},expression:"editChallengeForm.Title"}})],1),t("el-form-item",{attrs:{label:e.$t("challenge.base_score")}},[t("el-input-number",{attrs:{min:1},model:{value:e.editChallengeForm.BaseScore,callback:function(l){e.$set(e.editChallengeForm,"BaseScore",l)},expression:"editChallengeForm.BaseScore"}})],1),t("el-form-item",{attrs:{label:e.$t("challenge.auto_refresh_flag")}},[t("el-switch",{model:{value:e.editChallengeForm.AutoRefreshFlag,callback:function(l){e.$set(e.editChallengeForm,"AutoRefreshFlag",l)},expression:"editChallengeForm.AutoRefreshFlag"}})],1),e.editChallengeForm.AutoRefreshFlag?t("el-form-item",{attrs:{label:e.$t("challenge.command")}},[t("el-input",{model:{value:e.editChallengeForm.Command,callback:function(l){e.$set(e.editChallengeForm,"Command",l)},expression:"editChallengeForm.Command"}}),t("span",[e._v(e._s(e.$t("challenge.flag_placeholder"))),t("code",{pre:!0},[e._v("{{FLAG}}")])])],1):e._e()],1),t("el-button",{attrs:{type:"primary"},on:{click:e.onEditChallenge}},[e._v(e._s(e.$t("challenge.edit")))])],1)],1)},a=[],i={name:"Challenge",data:function(){return{isLoading:!0,challengeList:null,newChallengeDialogVisible:!1,editChallengeDialogVisible:!1,newChallengeForm:{Title:"",BaseScore:1e3,AutoRefreshFlag:!1,Command:"echo {{FLAG}} > /flag"},editChallengeForm:{Title:"",BaseScore:1e3,AutoRefreshFlag:!1,Command:""}}},mounted:function(){this.getChallenges()},methods:{getChallenges:function(){var e=this;this.utils.GET("/manager/challenges").then((function(l){e.challengeList=l,e.isLoading=!1})).catch((function(l){return e.$message.error(l)}))},onNewChallenge:function(){var e=this;this.utils.POST("/manager/challenge",this.newChallengeForm).then((function(l){e.newChallengeDialogVisible=!1,e.newChallengeForm={Title:"",BaseScore:1e3,AutoRefreshFlag:!1,Command:"echo {{FLAG}} > /flag"},e.getChallenges(),e.$message({message:l,type:"success"})})).catch((function(l){return e.$message({message:l,type:"error"})}))},onEditChallenge:function(){var e=this;this.utils.PUT("/manager/challenge",this.editChallengeForm).then((function(l){e.editChallengeDialogVisible=!1,e.getChallenges(),e.$message({message:l,type:"success"})})).catch((function(l){return e.$message({message:l,type:"error"})}))},handleDelete:function(e){var l=this;this.utils.DELETE("/manager/challenge?id="+e.ID).then((function(e){l.$message({message:e,type:"success"}),l.getChallenges()})).catch((function(e){return l.$message({message:e,type:"error"})}))},handleVisible:function(e,l){var t=this;this.utils.POST("/manager/challenge/visible",{ID:e,Visible:l}).then((function(e){t.$message({message:e,type:"success"}),t.getChallenges()})).catch((function(e){return t.$message({message:e,type:"error"})}))}}},o=i,s=t("2877"),r=Object(s["a"])(o,n,a,!1,null,"59b1c69b",null);l["default"]=r.exports}}]);