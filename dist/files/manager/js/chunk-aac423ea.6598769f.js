(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aac423ea"],{"0767":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.newTeamDialogVisible=!0}}},[e._v(e._s(e.$t("team.add")))]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:null===e.teamList,expression:"teamList === null"}],staticStyle:{width:"100%"},attrs:{data:e.teamList,stripe:""}},[a("el-table-column",{attrs:{width:"80",prop:"ID",label:"ID"}}),a("el-table-column",{attrs:{width:"80",prop:"Logo",label:e.$t("team.logo")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.utils.baseURL+"/uploads/"+t.row.Logo,fit:"fill"}})]}}])}),a("el-table-column",{attrs:{prop:"Name",label:e.$t("team.team_name")}}),a("el-table-column",{attrs:{prop:"Score",label:e.$t("team.score"),formatter:function(t){return e.utils.FormatFloat(t.Score)}}}),a("el-table-column",{attrs:{width:"300",prop:"SecretKey",label:"Token"}}),a("el-table-column",{attrs:{label:e.$t("general.create_at"),width:"200",formatter:function(t){return e.utils.FormatGoTime(t.CreatedAt)}}}),a("el-table-column",{attrs:{label:e.$t("general.update_at"),width:"200",formatter:function(t){return e.utils.FormatGoTime(t.UpdatedAt)}}}),a("el-table-column",{attrs:{label:e.$t("general.operate")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(){e.editTeamForm=JSON.parse(JSON.stringify(t.row)),e.editTeamDialogVisible=!0}}},[e._v(" "+e._s(e.$t("general.edit"))+" ")]),a("el-popconfirm",{attrs:{confirmButtonText:e.$t("general.confirm_cancel"),cancelButtonText:e.$t("general.cancel"),icon:"el-icon-info",iconColor:"red",title:e.$t("team.delete_confirm")},on:{onConfirm:function(a){return e.handleDelete(t.row)}}},[a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v(e._s(e.$t("general.delete")))])],1)]}}])})],1),a("el-dialog",{attrs:{title:e.$t("team.add"),visible:e.newTeamDialogVisible},on:{"update:visible":function(t){e.newTeamDialogVisible=t}}},[a("el-button",{on:{click:function(t){return e.newTeamForm.push({Name:"",Logo:""})}}},[e._v(e._s(e.$t("team.new")))]),a("el-divider"),e._l(e.newTeamForm,(function(t,r){return a("div",{key:r},[a("el-row",{attrs:{gutter:20}},[a("el-form",{attrs:{model:t,"label-width":"80px"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.newTeamForm.splice(r,1)}}}),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:e.$t("team.team_name")}},[a("el-input",{model:{value:t.Name,callback:function(a){e.$set(t,"Name",a)},expression:"item.Name"}}),a("el-input",{attrs:{size:"mini",placeholder:e.$t("team.picture_url")},model:{value:t.Logo,callback:function(a){e.$set(t,"Logo",a)},expression:"item.Logo"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:e.$t("team.team_logo")}},[a("el-upload",{attrs:{name:"picture",action:e.utils.baseURL+"/manager/uploadPicture",headers:{Authorization:e.token},"on-success":function(t){e.newTeamForm[r].Logo=t.data}}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e.$t("team.upload")))]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("team.file_limit")))])],1)],1)],1)],1)],1)],1)})),a("el-button",{attrs:{type:"primary"},on:{click:e.onNewTeams}},[e._v(e._s(e.$t("team.add")))])],2),a("el-dialog",{attrs:{title:e.$t("team.edit"),visible:e.editTeamDialogVisible},on:{"update:visible":function(t){e.editTeamDialogVisible=t}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:e.$t("team.team_name")}},[a("el-input",{model:{value:e.editTeamForm.Name,callback:function(t){e.$set(e.editTeamForm,"Name",t)},expression:"editTeamForm.Name"}}),a("el-input",{attrs:{size:"mini",placeholder:e.$t("team.picture_url")},model:{value:e.editTeamForm.Logo,callback:function(t){e.$set(e.editTeamForm,"Logo",t)},expression:"editTeamForm.Logo"}})],1),a("el-form-item",{attrs:{label:e.$t("team.team_logo")}},[a("el-upload",{attrs:{name:"picture",action:e.utils.baseURL+"/manager/uploadPicture",headers:{Authorization:e.token},"on-success":function(t){e.editTeamForm.Logo=t.data}}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e.$t("team.upload")))]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("team.file_limit")))])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onEditTeam}},[e._v(e._s(e.$t("team.edit")))]),a("el-popconfirm",{attrs:{title:e.$t("team.reset_password_confirm"),confirmButtonText:e.$t("general.apply"),cancelButtonText:e.$t("general.cancel")},on:{onConfirm:function(t){return e.onResetPassword(e.editTeamForm.ID)}}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.$t("team.reset_password")))])],1)],1)],1)],1)],1)},n=[],i=(a("4160"),a("159b"),{name:"Team",data:function(){return{teamList:null,newTeamDialogVisible:!1,editTeamDialogVisible:!1,token:localStorage.getItem("managerToken"),newTeamForm:[{Name:"",Logo:""}],editTeamForm:{Name:"",Logo:""}}},mounted:function(){this.getTeams()},methods:{getTeams:function(){var e=this;this.utils.GET("/manager/teams").then((function(t){e.teamList=t})).catch((function(t){return e.$message.error(t)}))},onNewTeams:function(){var e=this;this.utils.POST("/manager/teams",this.newTeamForm).then((function(t){e.newTeamDialogVisible=!1,e.getTeams(),e.newTeamForm=[{Name:"",Logo:""}];var a=e.$createElement,r=[a("p",null,e.$i18n.t("team.save_password"))];t.forEach((function(t){r.push(a("p",null,e.$i18n.t("team.account_detail",{Name:t.Name,Password:t.Password})))})),e.$alert(a("p",null,r),e.$i18n.t("team.team_password"),{confirmButtonText:e.$i18n.t("team.save_confirm")})})).catch((function(t){return e.$message({message:t,type:"error"})}))},onEditTeam:function(){var e=this;this.utils.PUT("/manager/team",this.editTeamForm).then((function(t){e.editTeamDialogVisible=!1,e.getTeams(),e.$message.success(t)})).catch((function(t){return e.$message({message:t,type:"error"})}))},onResetPassword:function(e){var t=this;this.utils.POST("/manager/team/resetPassword",{ID:e}).then((function(e){t.editTeamDialogVisible=!1,t.$alert(e,t.$i18n.t("team.new_password"),{confirmButtonText:t.$i18n.t("general.apply")})})).catch((function(e){return t.$message({message:e,type:"error"})}))},handleDelete:function(e){var t=this;this.utils.DELETE("/manager/team?id="+e.ID).then((function(e){t.$message({message:e,type:"success"}),t.getTeams()})).catch((function(e){t.$message({message:e,type:"error"})}))}}}),o=i,l=a("2877"),s=Object(l["a"])(o,r,n,!1,null,"6fc3e564",null);t["default"]=s.exports},"159b":function(e,t,a){var r=a("da84"),n=a("fdbc"),i=a("17c2"),o=a("9112");for(var l in n){var s=r[l],c=s&&s.prototype;if(c&&c.forEach!==i)try{o(c,"forEach",i)}catch(m){c.forEach=i}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,n=a("a640"),i=a("ae40"),o=n("forEach"),l=i("forEach");e.exports=o&&l?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"65f0":function(e,t,a){var r=a("861d"),n=a("e8b5"),i=a("b622"),o=i("species");e.exports=function(e,t){var a;return n(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,a){var r=a("83ab"),n=a("d039"),i=a("5135"),o=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(i(l,e))return l[e];t||(t={});var a=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,m=i(t,0)?t[0]:s,u=i(t,1)?t[1]:void 0;return l[e]=!!a&&!n((function(){if(c&&!r)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:s}):e[1]=1,a.call(e,m,u)}))}},b727:function(e,t,a){var r=a("0366"),n=a("44ad"),i=a("7b0b"),o=a("50c4"),l=a("65f0"),s=[].push,c=function(e){var t=1==e,a=2==e,c=3==e,m=4==e,u=6==e,f=5==e||u;return function(d,p,g,b){for(var h,T,v=i(d),$=n(v),_=r(p,g,3),w=o($.length),L=0,y=b||l,S=t?y(d,w):a?y(d,0):void 0;w>L;L++)if((f||L in $)&&(h=$[L],T=_(h,L,v),e))if(t)S[L]=T;else if(T)switch(e){case 3:return!0;case 5:return h;case 6:return L;case 2:s.call(S,h)}else if(m)return!1;return u?-1:c||m?m:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);