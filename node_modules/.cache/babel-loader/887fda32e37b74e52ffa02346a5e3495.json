{"remainingRequest":"/home/kali/fronted_manager/node_modules/babel-loader/lib/index.js!/home/kali/fronted_manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/kali/fronted_manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/fronted_manager/src/views/Bulletin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/fronted_manager/src/views/Bulletin.vue","mtime":1718174862663},{"path":"/home/kali/fronted_manager/node_modules/cache-loader/dist/cjs.js","mtime":1725805665522},{"path":"/home/kali/fronted_manager/node_modules/babel-loader/lib/index.js","mtime":1725805665488},{"path":"/home/kali/fronted_manager/node_modules/cache-loader/dist/cjs.js","mtime":1725805665522},{"path":"/home/kali/fronted_manager/node_modules/vue-loader/lib/index.js","mtime":1725805708031}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCdWxsZXRpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld0J1bGxldGluRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRCdWxsZXRpbkRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBidWxsZXRpbkxpc3Q6IG51bGwsCiAgICAgIGVkaXRCdWxsZXRpbkZvcm06IHsKICAgICAgICBUaXRsZTogJycsCiAgICAgICAgQ29udGVudDogJycKICAgICAgfSwKICAgICAgbmV3QnVsbGV0aW5Gb3JtOiB7CiAgICAgICAgVGl0bGU6ICcnLAogICAgICAgIENvbnRlbnQ6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRCdWxsZXRpbigpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QnVsbGV0aW46IGZ1bmN0aW9uIGdldEJ1bGxldGluKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5HRVQoJy9tYW5hZ2VyL2J1bGxldGlucycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmJ1bGxldGluTGlzdCA9IHJlczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uTmV3QnVsbGV0aW46IGZ1bmN0aW9uIG9uTmV3QnVsbGV0aW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5QT1NUKCcvbWFuYWdlci9idWxsZXRpbicsIHRoaXMubmV3QnVsbGV0aW5Gb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubmV3QnVsbGV0aW5EaWFsb2dWaXNpYmxlID0gZmFsc2U7IC8vIENsZWFuIGZvcm0uCgogICAgICAgIF90aGlzMi5uZXdCdWxsZXRpbkZvcm0gPSB7CiAgICAgICAgICBUaXRsZTogJycsCiAgICAgICAgICBDb250ZW50OiAnJwogICAgICAgIH07CgogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiByZXMsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLmdldEJ1bGxldGluKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyciwKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLlBVVCgnL21hbmFnZXIvYnVsbGV0aW4nLCB0aGlzLmVkaXRCdWxsZXRpbkZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5lZGl0QnVsbGV0aW5EaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiByZXMsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMzLmdldEJ1bGxldGluKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyciwKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLkRFTEVURSgnL21hbmFnZXIvYnVsbGV0aW4/aWQ9JyArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcmVzLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNC5nZXRCdWxsZXRpbigpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Bulletin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,wBAAA,EAAA,KADA;AAEA,MAAA,yBAAA,EAAA,KAFA;AAIA,MAAA,YAAA,EAAA,IAJA;AAKA,MAAA,gBAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA;AAFA,OALA;AASA,MAAA,eAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA;AAFA;AATA,KAAA;AAAA,GAFA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,WAAA;AACA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,oBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,GAAA;AACA,OAFA,EAEA,KAFA,CAEA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OAFA;AAGA,KALA;AAOA,IAAA,aAPA,2BAOA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,mBAAA,EAAA,KAAA,eAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,wBAAA,GAAA,KAAA,CADA,CAEA;;AACA,QAAA,MAAA,CAAA,eAAA,GAAA;AACA,UAAA,KAAA,EAAA,EADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;;AAIA,QAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OATA,EASA,KATA,CASA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OATA;AAUA,KAlBA;AAoBA,IAAA,UApBA,wBAoBA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,mBAAA,EAAA,KAAA,gBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,yBAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAJA,EAIA,KAJA,CAIA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OAJA;AAKA,KA1BA;AA4BA,IAAA,YA5BA,wBA4BA,EA5BA,EA4BA;AAAA;;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,0BAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAHA,EAGA,KAHA,CAGA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OAHA;AAIA;AAjCA;AAnBA,CAAA","sourcesContent":["<template>\n    <div>\n        <el-button type=\"primary\" @click=\"newBulletinDialogVisible = true\">{{$t('bulletin.publish')}}</el-button>\n        <el-table :data=\"bulletinList\" style=\"width: 100%\" stripe v-loading=\"bulletinList === null\">\n            <el-table-column width=\"80\" prop=\"ID\" label=\"ID\"/>\n            <el-table-column prop=\"Title\" :label=\"$t('bulletin.title')\"/>\n            <el-table-column prop=\"Content\" :label=\"$t('bulletin.content')\"/>\n            <el-table-column :label=\"$t('general.create_at')\" width=\"200\"\n                             :formatter=\"(row)=>utils.FormatGoTime(row.CreatedAt)\"/>\n            <el-table-column :label=\"$t('general.operate')\" width=\"300\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            @click=\"()=>{editBulletinForm = JSON.parse(JSON.stringify(scope.row)); editBulletinDialogVisible = true}\">\n                        {{$t('general.edit')}}\n                    </el-button>\n\n                    <el-popconfirm\n                            :confirmButtonText=\"$t('general.confirm_cancel')\"\n                            :cancelButtonText=\"$t('general.cancel')\"\n                            icon=\"el-icon-info\"\n                            iconColor=\"red\"\n                            :title=\"$t('bulletin.delete_title')\"\n                            @onConfirm=\"handleDelete(scope.row.ID)\"\n                    >\n                        <el-button size=\"mini\" type=\"danger\" slot=\"reference\">{{$t('general.delete')}}</el-button>\n                    </el-popconfirm>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <!-- Publish bulletin -->\n        <el-dialog :title=\"$t('bulletin.publish')\" :visible.sync=\"newBulletinDialogVisible\">\n            <el-form :model=\"newBulletinForm\" label-width=\"80px\">\n                <el-form-item :label=\"$t('bulletin.title')\">\n                    <el-input v-model=\"newBulletinForm.Title\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('bulletin.content')\">\n                    <el-input type=\"textarea\" :rows=\"3\" :placeholder=\"$t('bulletin.content_placeholder')\"\n                              v-model=\"newBulletinForm.Content\"></el-input>\n                </el-form-item>\n            </el-form>\n            <el-button type=\"primary\" @click=\"onNewBulletin\">{{$t('bulletin.publish')}}</el-button>\n        </el-dialog>\n\n        <!-- Edit bulletin -->\n        <el-dialog :title=\"$t('bulletin.edit')\" :visible.sync=\"editBulletinDialogVisible\">\n            <el-form :model=\"editBulletinForm\" label-width=\"80px\">\n                <el-form-item :label=\"$t('bulletin.title')\">\n                    <el-input v-model=\"editBulletinForm.Title\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('bulletin.content')\">\n                    <el-input type=\"textarea\" :rows=\"3\" :placeholder=\"$t('bulletin.content_placeholder')\"\n                              v-model=\"editBulletinForm.Content\"></el-input>\n                </el-form-item>\n            </el-form>\n            <el-button type=\"primary\" @click=\"handleEdit\">{{$t('bulletin.edit')}}</el-button>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Bulletin\",\n        data: () => ({\n            newBulletinDialogVisible: false,\n            editBulletinDialogVisible: false,\n\n            bulletinList: null,\n            editBulletinForm: {\n                Title: '',\n                Content: ''\n            },\n            newBulletinForm: {\n                Title: '',\n                Content: ''\n            },\n        }),\n        mounted() {\n            this.getBulletin()\n        },\n        methods: {\n            getBulletin() {\n                this.utils.GET('/manager/bulletins').then(res => {\n                    this.bulletinList = res\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            },\n\n            onNewBulletin() {\n                this.utils.POST('/manager/bulletin', this.newBulletinForm).then(res => {\n                    this.newBulletinDialogVisible = false\n                    // Clean form.\n                    this.newBulletinForm = {\n                        Title: '',\n                        Content: ''\n                    }\n                    this.$message({message: res, type: 'success'})\n                    this.getBulletin()\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            },\n\n            handleEdit() {\n                this.utils.PUT('/manager/bulletin', this.editBulletinForm).then(res => {\n                    this.editBulletinDialogVisible = false\n                    this.$message({message: res, type: 'success'})\n                    this.getBulletin()\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            },\n\n            handleDelete(id) {\n                this.utils.DELETE('/manager/bulletin?id=' + id).then(res => {\n                    this.$message({message: res, type: 'success'})\n                    this.getBulletin()\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}