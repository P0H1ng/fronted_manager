{"remainingRequest":"/home/osboxes/Cardinal_manager_frontend/node_modules/babel-loader/lib/index.js!/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/osboxes/Cardinal_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/osboxes/Cardinal_manager_frontend/src/views/GameBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/osboxes/Cardinal_manager_frontend/src/views/GameBox.vue","mtime":1706256621149},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1706256287673},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1706256337311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvb3Nib3hlcy9DYXJkaW5hbF9tYW5hZ2VyX2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHYW1lQm94IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3R2FtZUJveERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlZGl0R2FtZUJveERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBtdXRsaUdhbWVCb3hEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc3NoRmFpbERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzc2hUZXN0aW5nOiBmYWxzZSwKICAgICAgZ2FtZUJveExpc3Q6IG51bGwsCiAgICAgIHRlYW1zOiBbXSwKICAgICAgY2hhbGxlbmdlczogW10sCiAgICAgIG5ld0dhbWVCb3hGb3JtOiBbXSwKICAgICAgZWRpdEdhbWVCb3hGb3JtOiB7CiAgICAgICAgQ2hhbGxlbmdlVGl0bGU6ICcnLAogICAgICAgIFRlYW1OYW1lOiAnJywKICAgICAgICBJUDogJycsCiAgICAgICAgUG9ydDogJycsCiAgICAgICAgU1NIUG9ydDogJycsCiAgICAgICAgU1NIVXNlcjogJycsCiAgICAgICAgU1NIUGFzc3dvcmQ6ICcnLAogICAgICAgIERlc2NyaXB0aW9uOiAnJwogICAgICB9LAogICAgICAvLyBEb2NrZXIKICAgICAgbG9hZGluZ0RvY2tlcmZpbGU6IGZhbHNlLAogICAgICBkb2NrZXJJbWFnZVZpc2libGU6IGZhbHNlLAogICAgICBpbnB1dFBvcnRWaXNpYmxlOiBmYWxzZSwKICAgICAgaW5wdXRQb3J0VmFsdWU6ICcnLAogICAgICBkb2NrZXJJbWFnZVRleHQ6ICd3dWhhbjAwNS9hd2Rfd2ViOmxhdGVzdCcsCiAgICAgIGRvY2tlckltYWdlRm9ybTogewogICAgICAgIC8vIHNlYXJjaCBmb3JtCiAgICAgICAgVXNlcjogJycsCiAgICAgICAgSW1hZ2U6ICcnLAogICAgICAgIFRhZzogJycKICAgICAgfSwKICAgICAgZG9ja2VySW5mbzogbnVsbCwKICAgICAgLy8gZG9ja2VyZmlsZSBpbmZvCiAgICAgIGRvY2tlckZvcm06IHsKICAgICAgICBJbWFnZTogJycsCiAgICAgICAgQ2hhbGxlbmdlOiBudWxsLAogICAgICAgIElQOiAnJywKICAgICAgICBTZXJ2aWNlUG9ydDogJycsCiAgICAgICAgU1NIUG9ydDogJycsCiAgICAgICAgUm9vdFNTSE5hbWU6ICcnLAogICAgICAgIFVzZXJTU0hOYW1lOiAnJywKICAgICAgICBEZXNjcmlwdGlvbjogIlNTSCBcdTdBRUZcdTUzRTNcdUZGMUF7e3NzaF9wb3J0fX1cblNTSCBcdThEMjZcdTUzRjdcdUZGMUF7e3NzaF9uYW1lfX1cblNTSCBcdTVCQzZcdTc4MDFcdUZGMUF7e3NzaF9wYXNzd29yZH19IiwKICAgICAgICBQb3J0czogW10KICAgICAgfSwKICAgICAgbXV0bGlHYW1lQm94SlNPTjogJycsCiAgICAgIHNzaEZhaWxDb250ZW50OiAnJywKICAgICAgcGFnZTogMSwKICAgICAgcGVyOiAxMCwKICAgICAgdG90YWw6IDAKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUZWFtcygpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoYWxsZW5nZXMoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lQm94ZXMoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9tb3VudGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIG1vdW50ZWQ7CiAgfSgpLAogIG1ldGhvZHM6IHsKICAgIGdldEdhbWVCb3hlczogZnVuY3Rpb24gZ2V0R2FtZUJveGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgX3RoaXMudXRpbHMuR0VUKCIvbWFuYWdlci9nYW1lYm94ZXM/cGFnZT0iLmNvbmNhdChfdGhpcy5wYWdlLCAiJnBlcj0iKS5jb25jYXQoX3RoaXMucGVyKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgZ2FtZUJveCA9IHJlcy5EYXRhOwogICAgICAgICAgZ2FtZUJveC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgZ2FtZUJveFtpbmRleF1bJ0NoYWxsZW5nZVRpdGxlJ10gPSBfdGhpcy5nZXRDaGFsbGVuZ2VCeUlEKHZhbHVlLkNoYWxsZW5nZUlEKVsnVGl0bGUnXTsKICAgICAgICAgICAgZ2FtZUJveFtpbmRleF1bJ1RlYW1OYW1lJ10gPSBfdGhpcy5nZXRUZWFtQnlJRCh2YWx1ZS5UZWFtSUQpWydOYW1lJ107CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzLmdhbWVCb3hMaXN0ID0gZ2FtZUJveDsKICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzLlRvdGFsOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGVycik7CgogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRUZWFtczogZnVuY3Rpb24gZ2V0VGVhbXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgX3RoaXMyLnV0aWxzLkdFVCgiL21hbmFnZXIvdGVhbXMiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMi50ZWFtcyA9IHJlczsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENoYWxsZW5nZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRDaGFsbGVuZ2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnV0aWxzLkdFVCgiL21hbmFnZXIvY2hhbGxlbmdlcyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5jaGFsbGVuZ2VzID0gcmVzOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihlcnIpOwoKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRDaGFsbGVuZ2VzKCkgewogICAgICAgIHJldHVybiBfZ2V0Q2hhbGxlbmdlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q2hhbGxlbmdlczsKICAgIH0oKSwKICAgIG11dGxpR2FtZUJveDogZnVuY3Rpb24gbXV0bGlHYW1lQm94KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBiYWNrdXAgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubmV3R2FtZUJveEZvcm0pKTsKCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGdhbWVCb3hlcyA9IEpTT04ucGFyc2UodGhpcy5tdXRsaUdhbWVCb3hKU09OKTsKICAgICAgICBnYW1lQm94ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIF90aGlzNC5uZXdHYW1lQm94Rm9ybS5wdXNoKHsKICAgICAgICAgICAgQ2hhbGxlbmdlSUQ6IHZhbHVlLkNoYWxsZW5nZUlELAogICAgICAgICAgICBUZWFtSUQ6IHZhbHVlLlRlYW1JRCwKICAgICAgICAgICAgSVA6IHZhbHVlLklQLAogICAgICAgICAgICBQb3J0OiB2YWx1ZS5Qb3J0LAogICAgICAgICAgICBTU0hQb3J0OiB2YWx1ZS5TU0hQb3J0ICE9PSB1bmRlZmluZWQgPyB2YWx1ZS5TU0hQb3J0IDogJycsCiAgICAgICAgICAgIFNTSFVzZXI6IHZhbHVlLlNTSFVzZXIgIT09IHVuZGVmaW5lZCA/IHZhbHVlLlNTSFVzZXIgOiAnJywKICAgICAgICAgICAgU1NIUGFzc3dvcmQ6IHZhbHVlLlNTSFBhc3N3b3JkICE9PSB1bmRlZmluZWQgPyB2YWx1ZS5TU0hQYXNzd29yZCA6ICcnLAogICAgICAgICAgICBEZXNjcmlwdGlvbjogdmFsdWUuRGVzY3JpcHRpb24KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHRoaXMubXV0bGlHYW1lQm94RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHRoaXMubXV0bGlHYW1lQm94SlNPTiA9ICcnOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiRpMThuLnQoJ2dhbWVib3guanNvbl9wYXJzZV9lcnJvcicpKTsKICAgICAgICB0aGlzLm5ld0dhbWVCb3hGb3JtID0gYmFja3VwOwogICAgICB9CiAgICB9LAogICAgb25OZXdHYW1lQm94OiBmdW5jdGlvbiBvbk5ld0dhbWVCb3goKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5QT1NUKCcvbWFuYWdlci9nYW1lYm94ZXMnLCB0aGlzLm5ld0dhbWVCb3hGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUubmV3R2FtZUJveERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM1LmdldEdhbWVCb3hlcygpOyAvLyBDbGVhbiBmb3JtCgoKICAgICAgICBfdGhpczUubmV3R2FtZUJveEZvcm0gPSBbXTsKCiAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNS4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkVkaXRHYW1lQm94OiBmdW5jdGlvbiBvbkVkaXRHYW1lQm94KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMudXRpbHMuUFVUKCcvbWFuYWdlci9nYW1lYm94JywgdGhpcy5lZGl0R2FtZUJveEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi5lZGl0R2FtZUJveERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM2LmdldEdhbWVCb3hlcygpOwoKICAgICAgICBfdGhpczYuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNi4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLkRFTEVURSgiL21hbmFnZXIvZ2FtZWJveD9pZD0iICsgcm93LklEKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczcuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcmVzLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNy5nZXRHYW1lQm94ZXMoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpczcuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogZXJyLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDaGFsbGVuZ2VCeUlEOiBmdW5jdGlvbiBnZXRDaGFsbGVuZ2VCeUlEKGlkKSB7CiAgICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgICB0aGlzLmNoYWxsZW5nZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUuSUQgPT09IGlkKSB7CiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGdldFRlYW1CeUlEOiBmdW5jdGlvbiBnZXRUZWFtQnlJRChpZCkgewogICAgICB2YXIgcmVzdWx0ID0gbnVsbDsKICAgICAgdGhpcy50ZWFtcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZS5JRCA9PT0gaWQpIHsKICAgICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgZ2V0SW1hZ2VEYXRhOiBmdW5jdGlvbiBnZXRJbWFnZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nRG9ja2VyZmlsZSA9IHRydWU7CiAgICAgIHRoaXMuZG9ja2VySW1hZ2VGb3JtLlVzZXIgPSB0aGlzLmRvY2tlckltYWdlVGV4dC5zcGxpdCgnLycpWzBdOwogICAgICB0aGlzLmRvY2tlckltYWdlRm9ybS5JbWFnZSA9IHRoaXMuZG9ja2VySW1hZ2VUZXh0LnNwbGl0KCcvJylbMV0uc3BsaXQoJzonKVswXTsKICAgICAgdGhpcy5kb2NrZXJJbWFnZUZvcm0uVGFnID0gdGhpcy5kb2NrZXJJbWFnZVRleHQuc3BsaXQoJzonKVsxXTsKICAgICAgdGhpcy51dGlscy5QT1NUKCcvbWFuYWdlci9kb2NrZXIvZmluZEltYWdlJywgdGhpcy5kb2NrZXJJbWFnZUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC5sb2FkaW5nRG9ja2VyZmlsZSA9IGZhbHNlOyAvLyBTZXQgcG9ydAoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5Qb3J0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgX3RoaXM4LmRvY2tlckZvcm0uUG9ydHMucHVzaCh7CiAgICAgICAgICAgIEluOiByZXMuUG9ydHNbaV0sCiAgICAgICAgICAgIE91dDogMTAwMDAgKyBpICogMTAwMAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczguZG9ja2VyRm9ybS5JbWFnZSA9IHJlcy5JbWFnZTsKICAgICAgICBfdGhpczguZG9ja2VySW5mbyA9IHJlczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzOC4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzOC5sb2FkaW5nRG9ja2VyZmlsZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBBZGQgbmV3IHBvcnQKICAgIGlucHV0UG9ydENvbmZpcm06IGZ1bmN0aW9uIGlucHV0UG9ydENvbmZpcm0oKSB7CiAgICAgIHZhciBpbnB1dFZhbHVlID0gdGhpcy5pbnB1dFBvcnRWYWx1ZTsKCiAgICAgIGlmIChpbnB1dFZhbHVlKSB7CiAgICAgICAgdGhpcy5kb2NrZXJGb3JtLlBvcnRzLnB1c2goewogICAgICAgICAgSW46IGlucHV0VmFsdWUsCiAgICAgICAgICBPdXQ6IDAKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5pbnB1dFBvcnRWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuaW5wdXRQb3J0VmFsdWUgPSAnJzsKICAgIH0sCiAgICBkZXBsb3lGcm9tRG9ja2VyOiBmdW5jdGlvbiBkZXBsb3lGcm9tRG9ja2VyKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHRoaXMudXRpbHMuUE9TVCgnL21hbmFnZXIvZG9ja2VyL2RlcGxveScsIHRoaXMuZG9ja2VyRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpczkuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogZXJyLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICB0ZXN0QWxsU1NIOiBmdW5jdGlvbiB0ZXN0QWxsU1NIKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB0aGlzLnNzaFRlc3RpbmcgPSB0cnVlOwogICAgICB0aGlzLnV0aWxzLkdFVCgiL21hbmFnZXIvZ2FtZWJveGVzL3NzaFRlc3QiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEwLnNzaFRlc3RpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcyA9PT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMTAuJG1lc3NhZ2Uuc3VjY2VzcyhfdGhpczEwLiRpMThuLnQoImdhbWVib3gudGVzdF9zc2hfc3VjY2VzcyIpKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMTAuc3NoRmFpbENvbnRlbnQgPSAnJzsKICAgICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXMxMC5zc2hGYWlsQ29udGVudCArPSAiPHN0cm9uZz5UZWFtSURcdUZGMUE8L3N0cm9uZz4iLmNvbmNhdChpdGVtLlRlYW1JRCwgIjxicj48c3Ryb25nPkNoYWxsZW5nZUlEXHVGRjFBPC9zdHJvbmc+IikuY29uY2F0KGl0ZW0uQ2hhbGxlbmdlSUQsICI8YnI+PHN0cm9uZz5HYW1lQm94SURcdUZGMUE8L3N0cm9uZz4iKS5jb25jYXQoaXRlbS5HYW1lQm94SUQsICI8YnI+PHN0cm9uZz5FcnJvclx1RkYxQTwvc3Ryb25nPiIpLmNvbmNhdChpdGVtLkVycm9yLCAiPGhyPiIpOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMTAuc3NoRmFpbERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICB0ZXN0R2FtZUJveFNTSDogZnVuY3Rpb24gdGVzdEdhbWVCb3hTU0goSVAsIFBvcnQsIFVzZXIsIFBhc3N3b3JkKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHRoaXMuJHByb21wdCh0aGlzLiR0KCdnYW1lYm94LmlucHV0X3NoZWxsX2NvbW1hbmQnKSwgJycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy4kdCgnZ2VuZXJhbC5hcHBseScpLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IHRoaXMuJHQoJ2dlbmVyYWwuY2FuY2VsJykKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBDb21tYW5kID0gX3JlZi52YWx1ZTsKCiAgICAgICAgX3RoaXMxMS51dGlscy5QT1NUKCcvbWFuYWdlci9nYW1lYm94ZXMvc3NoVGVzdCcsIHsKICAgICAgICAgIElQOiBJUCwKICAgICAgICAgIFBvcnQ6IFBvcnQsCiAgICAgICAgICBVc2VyOiBVc2VyLAogICAgICAgICAgUGFzc3dvcmQ6IFBhc3N3b3JkLAogICAgICAgICAgQ29tbWFuZDogQ29tbWFuZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgcmV0dXJuIF90aGlzMTEuJGFsZXJ0KHJlcywgX3RoaXMxMS4kdCgnZ2VuZXJhbC5zdWNjZXNzJykpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJldHVybiBfdGhpczExLiRhbGVydChlcnIsIF90aGlzMTEuJHQoJ2dlbmVyYWwuZmFpbCcpKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIHJlZnJlc2hGbGFnOiBmdW5jdGlvbiByZWZyZXNoRmxhZygpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5HRVQoJy9tYW5hZ2VyL2dhbWVib3hlcy9yZWZyZXNoRmxhZycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiBfdGhpczEyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpczEyLiRtZXNzYWdlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0R2FtZUJveDogZnVuY3Rpb24gcmVzZXRHYW1lQm94KCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLkdFVCgnL21hbmFnZXIvZ2FtZWJveGVzL3Jlc2V0JykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["GameBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-dropdown style=\"margin-right: 10px;\" @command=\"(command) => {\n            switch(command){\n                case 'remote-gamebox': newGameBoxDialogVisible = true; return;\n                case 'from-docker': dockerImageVisible = true; return;\n            }\n        }\">\n      <el-button type=\"primary\">\n        {{ $t('gamebox.publish') }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\n      </el-button>\n      <el-dropdown-menu slot=\"dropdown\">\n        <el-dropdown-item command=\"remote-gamebox\">{{ $t('gamebox.publish_out') }}</el-dropdown-item>\n        <!--                <el-dropdown-item command=\"from-docker\">从镜像部署靶机</el-dropdown-item>-->\n      </el-dropdown-menu>\n    </el-dropdown>\n    <el-button @click=\"testAllSSH\" :loading=\"sshTesting\">{{ $t('gamebox.test_ssh') }}</el-button>\n    <el-button @click=\"refreshFlag\">{{ $t('gamebox.refresh_flag') }}</el-button>\n    <el-popconfirm\n        :confirm-button-text=\"$t('general.apply')\"\n        :cancel-button-text=\"$t('general.cancel')\"\n        icon=\"el-icon-info\"\n        icon-color=\"red\"\n        :title=\"$t('gamebox.reset_confirm')\"\n        @onConfirm=\"resetGameBox\"\n    >\n      <el-button slot=\"reference\" type=\"danger\" style=\"margin-left: 10px;\">{{ $t('gamebox.reset') }}</el-button>\n    </el-popconfirm>\n\n    <!-- Gamebox list -->\n    <el-table :data=\"gameBoxList\" style=\"width: 100%\" stripe v-loading=\"gameBoxList === null\">\n      <el-table-column width=\"80\" prop=\"ID\" label=\"ID\"/>\n      <el-table-column prop=\"ChallengeTitle\" :label=\"$t('gamebox.challenge')\"/>\n      <el-table-column prop=\"TeamName\" :label=\"$t('gamebox.team')\"/>\n      <el-table-column prop=\"IP\" :label=\"$t('gamebox.ip')\"/>\n      <el-table-column prop=\"Port\" :label=\"$t('gamebox.port')\"/>\n      <el-table-column prop=\"Score\" :label=\"$t('gamebox.score')\"\n                       :formatter=\"(row) => utils.FormatFloat(row.Score)\"/>\n      <el-table-column prop=\"Description\" :label=\"$t('gamebox.description')\"/>\n      <el-table-column prop=\"IsDown\" :label=\"$t('gamebox.down')\">\n        <template slot-scope=\"scope\">{{ scope.row.IsDown }}</template>\n      </el-table-column>\n      <el-table-column prop=\"IsAttacked\" :label=\"$t('gamebox.attacked')\">\n        <template slot-scope=\"scope\">{{ scope.row.IsAttacked }}</template>\n      </el-table-column>\n      <el-table-column :label=\"$t('general.create_at')\" width=\"200\"\n                       :formatter=\"(row)=>utils.FormatGoTime(row.CreatedAt)\"/>\n      <el-table-column :label=\"$t('general.operate')\" width=\"300\">\n        <template slot-scope=\"scope\">\n          <el-button\n              size=\"mini\"\n              @click=\"()=>{editGameBoxForm = JSON.parse(JSON.stringify(scope.row)); editGameBoxDialogVisible = true}\">\n            {{ $t('general.edit') }}\n          </el-button>\n          <el-popconfirm\n              :confirmButtonText=\"$t('general.confirm_cancel')\"\n              :cancelButtonText=\"$t('general.cancel')\"\n              icon=\"el-icon-info\"\n              iconColor=\"red\"\n              :title=\"$t('gamebox.delete_title')\"\n              @onConfirm=\"handleDelete(scope.row)\"\n          >\n            <el-button size=\"mini\" type=\"danger\" slot=\"reference\">{{ $t('general.delete') }}\n            </el-button>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <br>\n    <el-pagination style=\"text-align:center\" background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"per\"\n                   @current-change=\"(p)=>{page = p; getGameBoxes()}\"></el-pagination>\n\n    <!-- New GameBox from remote -->\n    <el-dialog :title=\"$t('gamebox.publish')\" :visible.sync=\"newGameBoxDialogVisible\">\n      <el-button type=\"primary\" @click=\"mutliGameBoxDialogVisible = true\">{{ $t('gamebox.multi') }}</el-button>\n      <el-button @click=\"newGameBoxForm.push({\n                    ChallengeID: null,\n                    TeamID: null,\n                    IP: '',\n                    Port: '',\n                    SSHPort: '',\n                    SSHUser:'root',\n                    SSHPassword: '',\n                    Description: ''\n                })\">{{ $t('gamebox.add') }}\n      </el-button>\n      <el-divider/>\n      <div v-for=\"(item, index) in newGameBoxForm\" v-bind:key=\"index\">\n        <el-row :gutter=\"20\">\n          <el-form :model=\"item\" label-width=\"130px\">\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"newGameBoxForm.splice(index, 1)\"/>\n            <el-col :span=\"10\">\n              <el-form-item :label=\"$t('gamebox.challenge')\">\n                <el-select v-model=\"item.ChallengeID\"\n                           :placeholder=\"$t('gamebox.challenge_placeholder')\">\n                  <el-option\n                      v-for=\"challenge in challenges\"\n                      :key=\"challenge.ID\"\n                      :label=\"challenge.Title\"\n                      :value=\"challenge.ID\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item :label=\"$t('gamebox.team')\">\n                <el-select v-model=\"item.TeamID\" :placeholder=\"$t('gamebox.team_placeholder')\">\n                  <el-option\n                      v-for=\"team in teams\"\n                      :key=\"team.ID\"\n                      :label=\"team.Name\"\n                      :value=\"team.ID\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item :label=\"$t('gamebox.ip')\">\n                <el-input v-model=\"item.IP\" :placeholder=\"$t('gamebox.ip_placeholder')\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item :label=\"$t('gamebox.port')\">\n                <el-input v-model=\"item.Port\" :placeholder=\"$t('gamebox.port_placeholder')\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"20\">\n              <el-form-item :label=\"$t('gamebox.description')\">\n                <el-input type=\"textarea\" :rows=\"3\" :placeholder=\"$t('gamebox.description_placeholder')\"\n                          v-model=\"item.Description\">\n                </el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"7\">\n              <el-form-item :label=\"$t('gamebox.ssh_port')\">\n                <el-input v-model=\"item.SSHPort\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"7\">\n              <el-form-item :label=\"$t('gamebox.ssh_user')\">\n                <el-input v-model=\"item.SSHUser\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"9\">\n              <el-form-item :label=\"$t('gamebox.ssh_password')\">\n                <el-input v-model=\"item.SSHPassword\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col>\n              <el-divider></el-divider>\n            </el-col>\n          </el-form>\n        </el-row>\n\n      </div>\n      <el-button type=\"primary\" @click=\"onNewGameBox\">{{ $t('gamebox.publish') }}</el-button>\n    </el-dialog>\n\n    <!-- Multi -->\n    <el-dialog :title=\"$t('gamebox.multi')\" :visible.sync=\"mutliGameBoxDialogVisible\">\n            <span>\n                {{ $t('gamebox.format') }}\n                <code>[{\n                    \"ChallengeID\": 1,\n                    \"TeamID\": 1,\n                    \"IP\": \"\",\n                    \"Port\": \"\",\n                    \"SSHPort\": \"\",\n                    \"SSHUser\": \"\",\n                    \"SSHPassword\": \"\",\n                    \"Description\": \"\"\n                }]</code>\n            </span>\n      <el-form>\n        <el-form-item :label=\"$t('gamebox.json_string')\">\n          <el-input type=\"textarea\" v-model=\"mutliGameBoxJSON\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"mutliGameBoxDialogVisible = false\">{{ $t('general.cancel') }}</el-button>\n        <el-button type=\"primary\" @click=\"mutliGameBox\">{{ $t('general.apply') }}</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- Edit -->\n    <el-dialog :title=\"$t('gamebox.edit')\" :visible.sync=\"editGameBoxDialogVisible\">\n      <el-form label-width=\"120px\">\n        <el-form-item :label=\"$t('gamebox.challenge')\">\n          {{ editGameBoxForm.ChallengeTitle }}\n        </el-form-item>\n        <el-form-item :label=\"$t('gamebox.team')\">\n          {{ editGameBoxForm.TeamName }}\n        </el-form-item>\n        <el-form-item :label=\"$t('gamebox.ip')\">\n          <el-input v-model=\"editGameBoxForm.IP\"\n                    :placeholder=\"$t('gamebox.ip_placeholder')\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('gamebox.port')\">\n          <el-input v-model=\"editGameBoxForm.Port\"\n                    :placeholder=\"$t('gamebox.port_placeholder')\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('gamebox.description')\">\n          <el-input type=\"textarea\" :rows=\"3\" :placeholder=\"$t('gamebox.description_placeholder')\"\n                    v-model=\"editGameBoxForm.Description\">\n          </el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('gamebox.ssh_port')\">\n          <el-input v-model=\"editGameBoxForm.SSHPort\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('gamebox.ssh_user')\">\n          <el-input v-model=\"editGameBoxForm.SSHUser\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('gamebox.ssh_password')\">\n          <el-input v-model=\"editGameBoxForm.SSHPassword\"></el-input>\n        </el-form-item>\n      </el-form>\n      <el-button type=\"primary\" @click=\"onEditGameBox\">{{ $t('gamebox.edit') }}</el-button>\n      <el-button\n          @click=\"testGameBoxSSH(editGameBoxForm.IP, editGameBoxForm.SSHPort, editGameBoxForm.SSHUser, editGameBoxForm.SSHPassword)\">\n        {{ $t('gamebox.test_ssh') }}\n      </el-button>\n    </el-dialog>\n\n    <!-- SSH -->\n    <el-dialog :title=\"$t('gamebox.test_ssh_fail')\" :visible.sync=\"sshFailDialogVisible\">\n      <div v-html=\"sshFailContent\"></div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"sshFailDialogVisible = false\">{{ $t('general.apply') }}</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- New GameBox from docker -->\n    <el-dialog title=\"从镜像部署题目\" :visible.sync=\"dockerImageVisible\" width=\"70%\">\n      <el-form v-loading=\"loadingDockerfile\">\n        <el-input placeholder=\"your_name/web_challenge:latest\" v-model=\"dockerImageText\">\n          <template slot=\"prepend\">docker pull</template>\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getImageData\">获取镜像信息</el-button>\n        </el-input>\n      </el-form>\n      <br>\n      <div v-if=\"dockerInfo != null\">\n        <el-row :gutter=\"24\">\n          <el-col :span=\"12\">\n            <el-form :inline=\"true\" label-width=\"120px\">\n              <!-- Challenge -->\n              <el-form-item :label=\"$t('gamebox.challenge_placeholder')\">\n                <el-select v-model=\"dockerForm.Challenge\"\n                           :placeholder=\"$t('gamebox.challenge_placeholder')\">\n                  <el-option\n                      v-for=\"challenge in challenges\"\n                      :key=\"challenge.ID\"\n                      :label=\"challenge.Title\"\n                      :value=\"challenge.ID\">\n                  </el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"题目 IP\">\n                <el-input placeholder=\"题目 IP\" v-model=\"dockerForm.IP\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"容器端口\">\n                <el-input placeholder=\"容器端口\" v-model=\"dockerForm.ServicePort\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"容器 SSH 端口\">\n                <el-input placeholder=\"容器 SSH 端口\" v-model=\"dockerForm.SSHPort\"></el-input>\n              </el-form-item>\n              <br>\n              <div style=\"text-align: center; color:rgba(128,128,128,0.50);\">SSH 密码将自动生成</div>\n            </el-form>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form :inline=\"true\" label-width=\"120px\">\n              <el-form-item label=\"root SSH 用户名\">\n                <el-input placeholder=\"root SSH 用户名\" v-model=\"dockerForm.RootSSHName\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"选手 SSH 用户名\">\n                <el-input placeholder=\"选手 SSH 用户名\" v-model=\"dockerForm.UserSSHName\"></el-input>\n              </el-form-item>\n            </el-form>\n            题目描述\n            <el-input\n                :rows=\"5\"\n                type=\"textarea\"\n                placeholder=\"请输入内容\"\n                v-model=\"dockerForm.Description\">\n            </el-input>\n          </el-col>\n        </el-row>\n\n        <el-divider content-position=\"left\">端口映射</el-divider>\n        <!-- Ports -->\n        <el-form :inline=\"true\" label-width=\"30px\">\n          <el-form-item v-for=\"(port, index) in dockerForm.Ports\" v-bind:key=\"index\"\n                        style=\"margin-bottom: 0px;\">\n            <el-input style=\"width: 180px;\" placeholder=\"映射端口\" v-model=\"port.Out\" size=\"mini\" :min=\"1\"\n                      :max=\"65535\">\n              <template slot=\"append\"> -> {{ port.In }}\n                <el-button icon=\"el-icon-error\" @click=\"dockerForm.Ports.splice(index, 1)\"></el-button>\n              </template>\n            </el-input>\n          </el-form-item>\n        </el-form>\n        <el-form :inline=\"true\" label-width=\"30px\">\n          <el-form-item>\n            <!-- New port input -->\n            <el-input\n                v-if=\"inputPortVisible\"\n                v-model=\"inputPortValue\"\n                ref=\"portInput\"\n                size=\"mini\"\n                @keyup.enter.native=\"inputPortConfirm\"\n                @blur=\"inputPortConfirm\"\n                minlength=\"1\"\n                maxlength=\"5\"\n                label=\"容器内端口\"\n            >\n            </el-input>\n            <el-button v-else size=\"mini\" @click=\"()=>{\n                            inputPortVisible = true;\n                            this.$nextTick(_ => {\n                              this.$refs.portInput.$refs.input.focus();\n                            });\n                        }\">+ 添加端口\n            </el-button>\n          </el-form-item>\n        </el-form>\n\n        <!-- container info -->\n        <el-table\n            size=\"mini\"\n            :data=\"teams\"\n            stripe\n            max-height=\"300\"\n            style=\"width: 100%\">\n          <el-table-column\n              prop=\"Name\"\n              label=\"队伍名\"\n              width=\"180\">\n          </el-table-column>\n          <el-table-column label=\"端口配置\">\n            <template slot-scope=\"scope\">\n              <el-tag\n                  size=\"mini\"\n                  v-for=\"(port, index) in dockerForm.Ports\"\n                  :key=\"index\"\n                  effect=\"plain\"\n                  style=\"margin-right: 10px;\"\n              >\n                {{ Number(port.Out) + scope.$index }} -> {{ port.In }}\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"容器名\">\n            <template slot-scope=\"scope\">\n              {{ dockerInfo.Name }}_{{ scope.row.Name }}\n            </template>\n          </el-table-column>\n        </el-table>\n\n      </div>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dockerImageVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"deployFromDocker\">添加</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"GameBox\",\n  data: () => ({\n    newGameBoxDialogVisible: false,\n    editGameBoxDialogVisible: false,\n    mutliGameBoxDialogVisible: false,\n    sshFailDialogVisible: false,\n    sshTesting: false,\n\n    gameBoxList: null,\n    teams: [],\n    challenges: [],\n\n    newGameBoxForm: [],\n    editGameBoxForm: {\n      ChallengeTitle: '',\n      TeamName: '',\n      IP: '',\n      Port: '',\n      SSHPort: '',\n      SSHUser: '',\n      SSHPassword: '',\n      Description: ''\n    },\n\n    // Docker\n    loadingDockerfile: false,\n    dockerImageVisible: false,\n    inputPortVisible: false,\n    inputPortValue: '',\n    dockerImageText: 'wuhan005/awd_web:latest',\n    dockerImageForm: {      // search form\n      User: '',\n      Image: '',\n      Tag: ''\n    },\n    dockerInfo: null,      // dockerfile info\n    dockerForm: {\n      Image: '',\n      Challenge: null,\n      IP: '',\n      ServicePort: '',\n      SSHPort: '',\n      RootSSHName: '',\n      UserSSHName: '',\n      Description: `SSH 端口：{{ssh_port}}\nSSH 账号：{{ssh_name}}\nSSH 密码：{{ssh_password}}`,\n      Ports: []\n    },\n\n    mutliGameBoxJSON: '',\n    sshFailContent: '',\n\n    page: 1,\n    per: 10,\n\n    total: 0,\n  }),\n  async mounted() {\n    await this.getTeams()\n    await this.getChallenges()\n    await this.getGameBoxes()\n  },\n  methods: {\n    getGameBoxes() {\n      return new Promise((resolve) => {\n        this.utils.GET(`/manager/gameboxes?page=${this.page}&per=${this.per}`).then(res => {\n          let gameBox = res.Data\n          gameBox.forEach((value, index) => {\n            gameBox[index]['ChallengeTitle'] = this.getChallengeByID(value.ChallengeID)['Title']\n            gameBox[index]['TeamName'] = this.getTeamByID(value.TeamID)['Name']\n          })\n          this.gameBoxList = gameBox\n          this.total = res.Total\n          resolve()\n        }).catch(err => {\n          this.$message.error(err);\n          resolve()\n        })\n      })\n    },\n\n    getTeams() {\n      return new Promise((resolve) => {\n        this.utils.GET(\"/manager/teams\").then(res => {\n          this.teams = res\n          resolve()\n        }).catch(err => {\n          this.$message.error(err);\n          resolve()\n        })\n      })\n    },\n\n    async getChallenges() {\n      return new Promise((resolve) => {\n        this.utils.GET(\"/manager/challenges\").then(res => {\n          this.challenges = res\n          resolve()\n        }).catch(err => {\n          this.$message.error(err);\n          resolve()\n        })\n      })\n    },\n\n    mutliGameBox() {\n      let backup = JSON.parse(JSON.stringify(this.newGameBoxForm))\n      try {\n        let gameBoxes = JSON.parse(this.mutliGameBoxJSON)\n        gameBoxes.forEach((value) => {\n          this.newGameBoxForm.push({\n            ChallengeID: value.ChallengeID,\n            TeamID: value.TeamID,\n            IP: value.IP,\n            Port: value.Port,\n            SSHPort: value.SSHPort !== undefined ? value.SSHPort : '',\n            SSHUser: value.SSHUser !== undefined ? value.SSHUser : '',\n            SSHPassword: value.SSHPassword !== undefined ? value.SSHPassword : '',\n            Description: value.Description\n          })\n        })\n        this.mutliGameBoxDialogVisible = false\n        this.mutliGameBoxJSON = ''\n      } catch (e) {\n        this.$message.error(this.$i18n.t('gamebox.json_parse_error'))\n        this.newGameBoxForm = backup\n      }\n    },\n\n    onNewGameBox() {\n      this.utils.POST('/manager/gameboxes', this.newGameBoxForm).then(res => {\n        this.newGameBoxDialogVisible = false\n        this.getGameBoxes()\n        // Clean form\n        this.newGameBoxForm = []\n        this.$message({message: res, type: 'success'})\n      }).catch(err => this.$message.error(err))\n    },\n\n    onEditGameBox() {\n      this.utils.PUT('/manager/gamebox', this.editGameBoxForm).then(res => {\n        this.editGameBoxDialogVisible = false\n        this.getGameBoxes()\n        this.$message.success(res)\n      }).catch(err => this.$message.error(err))\n    },\n\n    handleDelete(row) {\n      this.utils.DELETE(\"/manager/gamebox?id=\" + row.ID).then(res => {\n        this.$message({\n          message: res,\n          type: 'success'\n        });\n        this.getGameBoxes()\n      }).catch(err => this.$message({message: err, type: 'error'}))\n    },\n\n    getChallengeByID(id) {\n      let result = null;\n      this.challenges.forEach((value) => {\n        if (value.ID === id) {\n          result = value\n        }\n      })\n      return result\n    },\n\n    getTeamByID(id) {\n      let result = null;\n      this.teams.forEach((value) => {\n        if (value.ID === id) {\n          result = value\n        }\n      })\n      return result\n    },\n\n    getImageData() {\n      this.loadingDockerfile = true\n      this.dockerImageForm.User = this.dockerImageText.split('/')[0]\n      this.dockerImageForm.Image = this.dockerImageText.split('/')[1].split(':')[0]\n      this.dockerImageForm.Tag = this.dockerImageText.split(':')[1]\n\n      this.utils.POST('/manager/docker/findImage', this.dockerImageForm).then(res => {\n        this.loadingDockerfile = false\n        // Set port\n        for (let i = 0; i < res.Ports.length; i++) {\n          this.dockerForm.Ports.push({In: res.Ports[i], Out: 10000 + i * 1000})\n        }\n        this.dockerForm.Image = res.Image\n        this.dockerInfo = res\n      }).catch(err => {\n        this.$message({message: err, type: 'error'});\n        this.loadingDockerfile = false\n      })\n    },\n\n    // Add new port\n    inputPortConfirm() {\n      let inputValue = this.inputPortValue;\n      if (inputValue) {\n        this.dockerForm.Ports.push({In: inputValue, Out: 0});\n      }\n      this.inputPortVisible = false;\n      this.inputPortValue = '';\n    },\n\n    deployFromDocker() {\n      this.utils.POST('/manager/docker/deploy', this.dockerForm).then(res => {\n        console.log(res)\n      }).catch(err => this.$message({message: err, type: 'error'}))\n    },\n\n    testAllSSH() {\n      this.sshTesting = true\n      this.utils.GET(\"/manager/gameboxes/sshTest\").then(res => {\n        this.sshTesting = false\n        if (res === null) {\n          return this.$message.success(this.$i18n.t(\"gamebox.test_ssh_success\"))\n        }\n\n        this.sshFailContent = ''\n        res.forEach(item => {\n          this.sshFailContent += `<strong>TeamID：</strong>${item.TeamID}<br><strong>ChallengeID：</strong>${item.ChallengeID}<br><strong>GameBoxID：</strong>${item.GameBoxID}<br><strong>Error：</strong>${item.Error}<hr>`\n        })\n        this.sshFailDialogVisible = true\n      })\n    },\n\n    testGameBoxSSH(IP, Port, User, Password) {\n      this.$prompt(this.$t('gamebox.input_shell_command'), '', {\n        confirmButtonText: this.$t('general.apply'),\n        cancelButtonText: this.$t('general.cancel'),\n      }).then(({value: Command}) => {\n        this.utils.POST('/manager/gameboxes/sshTest', {\n          IP, Port, User, Password, Command\n        }).then(res => this.$alert(res, this.$t('general.success'))\n        ).catch(err => this.$alert(err, this.$t('general.fail'))\n        )\n      }).catch(() => {\n      });\n    },\n\n    refreshFlag() {\n      this.utils.GET('/manager/gameboxes/refreshFlag')\n          .then(res => this.$message.success(res))\n          .catch(err => this.$message.error(err))\n    },\n\n    resetGameBox() {\n      this.utils.GET('/manager/gameboxes/reset')\n          .then(res => this.$message.success(res))\n          .catch(err => this.$message.error(err))\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}