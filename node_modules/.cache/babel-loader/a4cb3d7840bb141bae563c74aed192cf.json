{"remainingRequest":"/home/osboxes/Cardinal_manager_frontend/node_modules/babel-loader/lib/index.js!/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/osboxes/Cardinal_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/osboxes/Cardinal_manager_frontend/src/views/WebHook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/osboxes/Cardinal_manager_frontend/src/views/WebHook.vue","mtime":1706256621149},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1706256287673},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1706256337311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJXZWJIb29rIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd2ViSG9va0xpc3Q6IFtdLAogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIG5ld1dlYkhvb2tEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZWRpdFdlYkhvb2tEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbmV3V2ViSG9va0Zvcm06IHsKICAgICAgICBVUkw6ICcnLAogICAgICAgIFR5cGU6ICcnLAogICAgICAgIFRva2VuOiAnJywKICAgICAgICBSZXRyeTogMCwKICAgICAgICBUaW1lb3V0OiAwCiAgICAgIH0sCiAgICAgIGVkaXRXZWJIb29rRm9ybToge30sCiAgICAgIHR5cGVPcHRpb25zOiB7CiAgICAgICAgJ2FueSc6IHRoaXMuJGkxOG4udCgnd2ViaG9vay50eXBlX2FueScpLAogICAgICAgICduZXdfcm91bmQnOiB0aGlzLiRpMThuLnQoJ3dlYmhvb2sudHlwZV9uZXdfcm91bmQnKSwKICAgICAgICAnc3VibWl0X2ZsYWcnOiB0aGlzLiRpMThuLnQoJ3dlYmhvb2sudHlwZV9zdWJtaXRfZmxhZycpLAogICAgICAgICdnYW1lX2JlZ2luJzogdGhpcy4kaTE4bi50KCd3ZWJob29rLnR5cGVfZ2FtZV9iZWdpbicpLAogICAgICAgICdnYW1lX3BhdXNlJzogdGhpcy4kaTE4bi50KCd3ZWJob29rLnR5cGVfZ2FtZV9wYXVzZScpLAogICAgICAgICdnYW1lX2VuZCc6IHRoaXMuJGkxOG4udCgnd2ViaG9vay50eXBlX2dhbWVfZW5kJykKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFdlYkhvb2tzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRXZWJIb29rczogZnVuY3Rpb24gZ2V0V2ViSG9va3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLkdFVCgiL21hbmFnZXIvd2ViaG9va3MiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy53ZWJIb29rTGlzdCA9IHJlczsKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBvbk5ld1dlYkhvb2s6IGZ1bmN0aW9uIG9uTmV3V2ViSG9vaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLlBPU1QoJy9tYW5hZ2VyL3dlYmhvb2snLCB0aGlzLm5ld1dlYkhvb2tGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMpOwoKICAgICAgICBfdGhpczIubmV3V2ViSG9va0RpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczIubmV3V2ViSG9va0Zvcm0gPSB7CiAgICAgICAgICBVUkw6ICcnLAogICAgICAgICAgVHlwZTogJycsCiAgICAgICAgICBUb2tlbjogJycsCiAgICAgICAgICBSZXRyeTogMCwKICAgICAgICAgIFRpbWVvdXQ6IDAKICAgICAgICB9OwoKICAgICAgICBfdGhpczIuZ2V0V2ViSG9va3MoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkVkaXRXZWJIb29rOiBmdW5jdGlvbiBvbkVkaXRXZWJIb29rKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMudXRpbHMuUFVUKCcvbWFuYWdlci93ZWJob29rJywgdGhpcy5lZGl0V2ViSG9va0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKHJlcyk7CgogICAgICAgIF90aGlzMy5lZGl0V2ViSG9va0RpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMzLmdldFdlYkhvb2tzKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5ERUxFVEUoIi9tYW5hZ2VyL3dlYmhvb2s/aWQ9IiArIHJvdy5JRCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczQuZ2V0V2ViSG9va3MoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogZXJyLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["WebHook.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <el-button type=\"primary\" @click=\"newWebHookDialogVisible = true\">{{$t('webhook.add')}}</el-button>\n        <el-table :data=\"webHookList\" style=\"width: 100%\" stripe v-loading=\"isLoading\">\n            <el-table-column width=\"80\" prop=\"ID\" label=\"ID\"/>\n            <el-table-column prop=\"URL\" :label=\"$t('webhook.url')\"/>\n            <el-table-column prop=\"Type\" :label=\"$t('webhook.type')\">\n                <template slot-scope=\"scope\">{{typeOptions[scope.row.Type]}}</template>\n            </el-table-column>\n            <el-table-column prop=\"Token\" :label=\"$t('webhook.token')\"/>\n            <el-table-column width=\"120\" prop=\"Retry\" :label=\"$t('webhook.retry')\"/>\n            <el-table-column width=\"120\" prop=\"Timeout\" :label=\"$t('webhook.timeout')\"/>\n            <el-table-column :label=\"$t('general.operate')\" width=\"300\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            @click=\"()=>{editWebHookForm = JSON.parse(JSON.stringify(scope.row)); editWebHookDialogVisible = true}\">\n                        {{$t('general.edit')}}\n                    </el-button>\n                    <el-popconfirm\n                            :confirmButtonText=\"$t('general.confirm_cancel')\"\n                            :cancelButtonText=\"$t('general.cancel')\"\n                            icon=\"el-icon-info\"\n                            iconColor=\"red\"\n                            :title=\"$t('webhook.delete_title')\"\n                            @onConfirm=\"handleDelete(scope.row)\"\n                    >\n                        <el-button size=\"mini\" type=\"danger\" slot=\"reference\">{{$t('general.delete')}}\n                        </el-button>\n                    </el-popconfirm>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <!-- New WebHook -->\n        <el-dialog :title=\"$t('webhook.add')\" :visible.sync=\"newWebHookDialogVisible\">\n            <el-form :model=\"newWebHookForm\" label-width=\"120px\">\n                <el-form-item :label=\"$t('webhook.url')\">\n                    <el-input v-model=\"newWebHookForm.URL\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.type')\">\n                    <el-select v-model=\"newWebHookForm.Type\" :placeholder=\"$t('webhook.please_select')\">\n                        <el-option\n                                v-for=\"(label, value) in typeOptions\"\n                                :key=\"value\"\n                                :label=\"label\"\n                                :value=\"value\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.token')\">\n                    <el-input v-model=\"newWebHookForm.Token\"/>\n                    <p>{{$t('webhook.token_tips')}}</p>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.retry')\">\n                    <el-input-number v-model=\"newWebHookForm.Retry\" :min=\"0\"></el-input-number>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.timeout')\">\n                    <el-input-number v-model=\"newWebHookForm.Timeout\" :min=\"0\"></el-input-number>\n                    <p>{{$t('webhook.timeout_tips')}}</p>\n                </el-form-item>\n            </el-form>\n            <el-button type=\"primary\" @click=\"onNewWebHook\">{{$t('webhook.publish')}}</el-button>\n        </el-dialog>\n\n        <!-- Edit WebHook -->\n        <el-dialog :title=\"$t('webhook.edit')\" :visible.sync=\"editWebHookDialogVisible\">\n            <el-form :model=\"editWebHookForm\" label-width=\"120px\">\n                <el-form-item :label=\"$t('webhook.url')\">\n                    <el-input v-model=\"editWebHookForm.URL\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.type')\">\n                    <el-select v-model=\"editWebHookForm.Type\" :placeholder=\"$t('webhook.please_select')\">\n                        <el-option\n                                v-for=\"(label, value) in typeOptions\"\n                                :key=\"value\"\n                                :label=\"label\"\n                                :value=\"value\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.token')\">\n                    <el-input v-model=\"editWebHookForm.Token\"/>\n                    <p>{{$t('webhook.token_tips')}}</p>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.retry')\">\n                    <el-input-number v-model=\"editWebHookForm.Retry\" :min=\"0\"></el-input-number>\n                </el-form-item>\n                <el-form-item :label=\"$t('webhook.timeout')\">\n                    <el-input-number v-model=\"editWebHookForm.Timeout\" :min=\"0\"></el-input-number>\n                    <p>{{$t('webhook.timeout_tips')}}</p>\n                </el-form-item>\n            </el-form>\n            <el-button type=\"primary\" @click=\"onEditWebHook\">{{$t('webhook.edit')}}</el-button>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"WebHook\",\n\n        data() {\n            return {\n                webHookList: [],\n                isLoading: true,\n\n                newWebHookDialogVisible: false,\n                editWebHookDialogVisible: false,\n\n                newWebHookForm: {\n                    URL: '',\n                    Type: '',\n                    Token: '',\n                    Retry: 0,\n                    Timeout: 0,\n                },\n                editWebHookForm: {},\n\n                typeOptions: {\n                    'any': this.$i18n.t('webhook.type_any'),\n                    'new_round': this.$i18n.t('webhook.type_new_round'),\n                    'submit_flag': this.$i18n.t('webhook.type_submit_flag'),\n                    'game_begin': this.$i18n.t('webhook.type_game_begin'),\n                    'game_pause': this.$i18n.t('webhook.type_game_pause'),\n                    'game_end': this.$i18n.t('webhook.type_game_end')\n\n                }\n            }\n        },\n\n        mounted() {\n            this.getWebHooks()\n        },\n\n        methods: {\n            getWebHooks() {\n                this.utils.GET(\"/manager/webhooks\").then(res => {\n                    this.webHookList = res\n                    this.isLoading = false\n                }).catch(err => this.$message.error(err))\n            },\n\n            onNewWebHook() {\n                this.utils.POST('/manager/webhook', this.newWebHookForm).then(res => {\n                    this.$message.success(res)\n                    this.newWebHookDialogVisible = false\n                    this.newWebHookForm = {\n                        URL: '',\n                        Type: '',\n                        Token: '',\n                        Retry: 0,\n                        Timeout: 0,\n                    }\n                    this.getWebHooks()\n                }).catch(err => {\n                    this.$message.error(err)\n                })\n            },\n\n            onEditWebHook() {\n                this.utils.PUT('/manager/webhook', this.editWebHookForm).then(res => {\n                    this.$message.success(res)\n                    this.editWebHookDialogVisible = false\n                    this.getWebHooks()\n                }).catch(err => {\n                    this.$message.error(err)\n                })\n            },\n\n            handleDelete(row) {\n                this.utils.DELETE(\"/manager/webhook?id=\" + row.ID).then(res => {\n                    this.$message({\n                        message: res,\n                        type: 'success'\n                    });\n                    this.getWebHooks()\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}