{"remainingRequest":"/home/kali/fronted_manager/node_modules/babel-loader/lib/index.js!/home/kali/fronted_manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/kali/fronted_manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kali/fronted_manager/src/views/Challenge.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kali/fronted_manager/src/views/Challenge.vue","mtime":1718175901583},{"path":"/home/kali/fronted_manager/node_modules/cache-loader/dist/cjs.js","mtime":1725805665522},{"path":"/home/kali/fronted_manager/node_modules/babel-loader/lib/index.js","mtime":1725805665488},{"path":"/home/kali/fronted_manager/node_modules/cache-loader/dist/cjs.js","mtime":1725805665522},{"path":"/home/kali/fronted_manager/node_modules/vue-loader/lib/index.js","mtime":1725805708031}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDaGFsbGVuZ2UiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIGNoYWxsZW5nZUxpc3Q6IG51bGwsCiAgICAgIG5ld0NoYWxsZW5nZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlZGl0Q2hhbGxlbmdlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIG5ld0NoYWxsZW5nZUZvcm06IHsKICAgICAgICBUaXRsZTogJycsCiAgICAgICAgQmFzZVNjb3JlOiAxMDAwLAogICAgICAgIEF1dG9SZWZyZXNoRmxhZzogZmFsc2UsCiAgICAgICAgQ29tbWFuZDogJ2VjaG8ge3tGTEFHfX0gPiAvZmxhZycKICAgICAgfSwKICAgICAgZWRpdENoYWxsZW5nZUZvcm06IHsKICAgICAgICBUaXRsZTogJycsCiAgICAgICAgQmFzZVNjb3JlOiAxMDAwLAogICAgICAgIEF1dG9SZWZyZXNoRmxhZzogZmFsc2UsCiAgICAgICAgQ29tbWFuZDogJycKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldENoYWxsZW5nZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENoYWxsZW5nZXM6IGZ1bmN0aW9uIGdldENoYWxsZW5nZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnV0aWxzLkdFVCgiL21hbmFnZXIvY2hhbGxlbmdlcyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmNoYWxsZW5nZUxpc3QgPSByZXM7CiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgb25OZXdDaGFsbGVuZ2U6IGZ1bmN0aW9uIG9uTmV3Q2hhbGxlbmdlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMudXRpbHMuUE9TVCgnL21hbmFnZXIvY2hhbGxlbmdlJywgdGhpcy5uZXdDaGFsbGVuZ2VGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubmV3Q2hhbGxlbmdlRGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvLyDmuIXnqbrooajmoLwKCiAgICAgICAgX3RoaXMyLm5ld0NoYWxsZW5nZUZvcm0gPSB7CiAgICAgICAgICBUaXRsZTogJycsCiAgICAgICAgICBCYXNlU2NvcmU6IDEwMDAsCiAgICAgICAgICBBdXRvUmVmcmVzaEZsYWc6IGZhbHNlLAogICAgICAgICAgQ29tbWFuZDogJ2VjaG8ge3tGTEFHfX0gPiAvZmxhZycKICAgICAgICB9OwoKICAgICAgICBfdGhpczIuZ2V0Q2hhbGxlbmdlcygpOwoKICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcmVzLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyciwKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgb25FZGl0Q2hhbGxlbmdlOiBmdW5jdGlvbiBvbkVkaXRDaGFsbGVuZ2UoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5QVVQoJy9tYW5hZ2VyL2NoYWxsZW5nZScsIHRoaXMuZWRpdENoYWxsZW5nZUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5lZGl0Q2hhbGxlbmdlRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICBfdGhpczMuZ2V0Q2hhbGxlbmdlcygpOwoKICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcmVzLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyciwKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5ERUxFVEUoIi9tYW5hZ2VyL2NoYWxsZW5nZT9pZD0iICsgcm93LklEKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcmVzLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNC5nZXRDaGFsbGVuZ2VzKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVyciwKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlVmlzaWJsZTogZnVuY3Rpb24gaGFuZGxlVmlzaWJsZShpZCwgdmlzaWJsZSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMudXRpbHMuUE9TVCgiL21hbmFnZXIvY2hhbGxlbmdlL3Zpc2libGUiLCB7CiAgICAgICAgSUQ6IGlkLAogICAgICAgIFZpc2libGU6IHZpc2libGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczUuZ2V0Q2hhbGxlbmdlcygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Challenge.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,aAAA,EAAA,IAFA;AAGA,MAAA,yBAAA,EAAA,KAHA;AAIA,MAAA,0BAAA,EAAA,KAJA;AAMA,MAAA,gBAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,IAFA;AAGA,QAAA,eAAA,EAAA,KAHA;AAIA,QAAA,OAAA,EAAA;AAJA,OANA;AAaA,MAAA,iBAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,IAFA;AAGA,QAAA,eAAA,EAAA,KAHA;AAIA,QAAA,OAAA,EAAA;AAJA;AAbA,KAAA;AAoBA,GAvBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,SAAA,aAAA;AACA,GA3BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,GAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,OAHA,EAGA,KAHA,CAGA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AAAA,OAHA;AAIA,KANA;AAQA,IAAA,cARA,4BAQA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,oBAAA,EAAA,KAAA,gBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,yBAAA,GAAA,KAAA,CADA,CAEA;;AACA,QAAA,MAAA,CAAA,gBAAA,GAAA;AACA,UAAA,KAAA,EAAA,EADA;AAEA,UAAA,SAAA,EAAA,IAFA;AAGA,UAAA,eAAA,EAAA,KAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SAAA;;AAMA,QAAA,MAAA,CAAA,aAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAXA,EAWA,KAXA,CAWA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OAXA;AAYA,KArBA;AAuBA,IAAA,eAvBA,6BAuBA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,oBAAA,EAAA,KAAA,iBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,0BAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,aAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAJA,EAIA,KAJA,CAIA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OAJA;AAKA,KA7BA;AA+BA,IAAA,YA/BA,wBA+BA,GA/BA,EA+BA;AAAA;;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,2BAAA,GAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,GADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;;AAIA,QAAA,MAAA,CAAA,aAAA;AACA,OANA,EAMA,KANA,CAMA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OANA;AAOA,KAvCA;AAyCA,IAAA,aAzCA,yBAyCA,EAzCA,EAyCA,OAzCA,EAyCA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,4BAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,GADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;;AAIA,QAAA,MAAA,CAAA,aAAA;AACA,OATA,EASA,KATA,CASA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA,CAAA;AAAA,OATA;AAUA;AApDA;AA7BA,CAAA","sourcesContent":["<template>\n    <div>\n        <el-button type=\"primary\" @click=\"newChallengeDialogVisible = true\">{{$t('challenge.new')}}</el-button>\n        <el-table :data=\"challengeList\" style=\"width: 100%\" stripe v-loading=\"isLoading\">\n            <el-table-column width=\"80\" prop=\"ID\" label=\"ID\"/>\n            <el-table-column prop=\"Title\" :label=\"$t('challenge.title')\"/>\n            <el-table-column prop=\"BaseScore\" :label=\"$t('challenge.base_score')\"/>\n            <el-table-column prop=\"Visible\" :label=\"$t('challenge.visible')\">\n                <template slot-scope=\"scope\">{{scope.row.Visible}}</template>\n            </el-table-column>\n            <el-table-column prop=\"AutoRefreshFlag\" :label=\"$t('challenge.auto_refresh_flag')\">\n                <template slot-scope=\"scope\">{{scope.row.AutoRefreshFlag}}</template>\n            </el-table-column>\n            <el-table-column prop=\"Command\" :label=\"$t('challenge.command')\"/>\n            <el-table-column :label=\"$t('general.create_at')\" width=\"200\"\n                             :formatter=\"(row)=>utils.FormatGoTime(row.CreatedAt)\"/>\n            <el-table-column :label=\"$t('general.operate')\" width=\"300\">\n                <template slot-scope=\"scope\">\n                    <el-popconfirm\n                            :title=\"scope.row.Visible ? $t('challenge.invisible_title') : $t('challenge.visible_title')\"\n                            @onConfirm=\"handleVisible(scope.row.ID, !scope.row.Visible)\">\n                        <el-button plain size=\"mini\" slot=\"reference\">{{$t('challenge.set_visible')}}</el-button>\n                    </el-popconfirm>\n                    <el-button\n                            size=\"mini\"\n                            @click=\"()=>{editChallengeForm = JSON.parse(JSON.stringify(scope.row)); editChallengeDialogVisible = true}\">\n                        {{$t('general.edit')}}\n                    </el-button>\n                    <el-popconfirm\n                            :confirmButtonText=\"$t('general.confirm_cancel')\"\n                            :cancelButtonText=\"$t('general.cancel')\"\n                            icon=\"el-icon-info\"\n                            iconColor=\"red\"\n                            :title=\"$t('challenge.delete_title')\"\n                            @onConfirm=\"handleDelete(scope.row)\"\n                    >\n                        <el-button size=\"mini\" type=\"danger\" slot=\"reference\">{{$t('general.delete')}}\n                        </el-button>\n                    </el-popconfirm>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <!-- New Challenge -->\n        <el-dialog :title=\"$t('challenge.publish')\" :visible.sync=\"newChallengeDialogVisible\">\n            <el-form :model=\"newChallengeForm\" label-width=\"120px\">\n                <el-form-item :label=\"$t('challenge.title')\">\n                    <el-input v-model=\"newChallengeForm.Title\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('challenge.base_score')\">\n                    <el-input-number v-model=\"newChallengeForm.BaseScore\" :min=\"1\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('challenge.auto_refresh_flag')\">\n                    <el-switch v-model=\"newChallengeForm.AutoRefreshFlag\"></el-switch>\n                </el-form-item>\n                <el-form-item :label=\"$t('challenge.command')\" v-if=\"newChallengeForm.AutoRefreshFlag\">\n                    <el-input v-model=\"newChallengeForm.Command\"/>\n                    <span>{{$t('challenge.flag_placeholder')}}<code v-pre>{{FLAG}}</code></span>\n                </el-form-item>\n            </el-form>\n            <el-button type=\"primary\" @click=\"onNewChallenge\">{{$t('challenge.publish')}}</el-button>\n        </el-dialog>\n\n        <!-- Edit Challenge -->\n        <el-dialog :title=\"$t('challenge.edit')\" :visible.sync=\"editChallengeDialogVisible\">\n            <el-form :model=\"editChallengeForm\" label-width=\"120px\">\n                <el-form-item :label=\"$t('challenge.title')\">\n                    <el-input v-model=\"editChallengeForm.Title\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('challenge.base_score')\">\n                    <el-input-number v-model=\"editChallengeForm.BaseScore\" :min=\"1\"/>\n                </el-form-item>\n                <el-form-item :label=\"$t('challenge.auto_refresh_flag')\">\n                    <el-switch v-model=\"editChallengeForm.AutoRefreshFlag\"></el-switch>\n                </el-form-item>\n                <el-form-item :label=\"$t('challenge.command')\" v-if=\"editChallengeForm.AutoRefreshFlag\">\n                    <el-input v-model=\"editChallengeForm.Command\"/>\n                    <span>{{$t('challenge.flag_placeholder')}}<code v-pre>{{FLAG}}</code></span>\n                </el-form-item>\n            </el-form>\n            <el-button type=\"primary\" @click=\"onEditChallenge\">{{$t('challenge.edit')}}</el-button>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Challenge\",\n        data() {\n            return {\n                isLoading: true,\n                challengeList: null,\n                newChallengeDialogVisible: false,\n                editChallengeDialogVisible: false,\n\n                newChallengeForm: {\n                    Title: '',\n                    BaseScore: 1000,\n                    AutoRefreshFlag: false,\n                    Command: 'echo {{FLAG}} > /flag',\n                },\n\n                editChallengeForm: {\n                    Title: '',\n                    BaseScore: 1000,\n                    AutoRefreshFlag: false,\n                    Command: '',\n                },\n            }\n        },\n\n        mounted() {\n            this.getChallenges()\n        },\n\n        methods: {\n            getChallenges() {\n                this.utils.GET(\"/manager/challenges\").then(res => {\n                    this.challengeList = res\n                    this.isLoading = false\n                }).catch(err => this.$message.error(err))\n            },\n\n            onNewChallenge() {\n                this.utils.POST('/manager/challenge', this.newChallengeForm).then(res => {\n                    this.newChallengeDialogVisible = false\n                    // 清空表格\n                    this.newChallengeForm = {\n                        Title: '',\n                        BaseScore: 1000,\n                        AutoRefreshFlag: false,\n                        Command: 'echo {{FLAG}} > /flag',\n                    }\n                    this.getChallenges()\n                    this.$message({message: res, type: 'success'})\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            },\n\n            onEditChallenge() {\n                this.utils.PUT('/manager/challenge', this.editChallengeForm).then(res => {\n                    this.editChallengeDialogVisible = false\n                    this.getChallenges()\n                    this.$message({message: res, type: 'success'})\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            },\n\n            handleDelete(row) {\n                this.utils.DELETE(\"/manager/challenge?id=\" + row.ID).then(res => {\n                    this.$message({\n                        message: res,\n                        type: 'success'\n                    });\n                    this.getChallenges()\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            },\n\n            handleVisible(id, visible) {\n                this.utils.POST(\"/manager/challenge/visible\", {\n                    ID: id,\n                    Visible: visible\n                }).then(res => {\n                    this.$message({\n                        message: res,\n                        type: 'success'\n                    });\n                    this.getChallenges()\n                }).catch(err => this.$message({message: err, type: 'error'}))\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views"}]}