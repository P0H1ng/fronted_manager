{"remainingRequest":"/home/osboxes/Cardinal_manager_frontend/node_modules/babel-loader/lib/index.js!/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/osboxes/Cardinal_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/osboxes/Cardinal_manager_frontend/src/views/Config.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/osboxes/Cardinal_manager_frontend/src/views/Config.vue","mtime":1706256621149},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1706256287673},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706256287886},{"path":"/home/osboxes/Cardinal_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1706256337311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvbmZpZyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbmZpZzogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBbGxDb25maWcoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbENvbmZpZzogZnVuY3Rpb24gZ2V0QWxsQ29uZmlnKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy51dGlscy5HRVQoJy9tYW5hZ2VyL2NvbmZpZ3MnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5jb25maWcgPSByZXM7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuY29uZmlnLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBzdHJpbmcgdG8gYm9vbGVhbgogICAgICAgICAgaWYgKF90aGlzLmNvbmZpZ1tpXS5LaW5kID09PSAxKSB7CiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1tpXS5WYWx1ZSA9IF90aGlzLmNvbmZpZ1tpXS5WYWx1ZSA9PT0gJ3RydWUnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlQ29uZmlnOiBmdW5jdGlvbiBzYXZlQ29uZmlnKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25maWcubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyBDb252ZXJ0IHRoZSBib29sZWFuIHRvIHN0cmluZwogICAgICAgIGlmICh0aGlzLmNvbmZpZ1tpXS5LaW5kID09PSAxKSB7CiAgICAgICAgICB0aGlzLmNvbmZpZ1tpXS5WYWx1ZSA9IHRoaXMuY29uZmlnW2ldLlZhbHVlLnRvU3RyaW5nKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnV0aWxzLlBVVCgnL21hbmFnZXIvY29uZmlnJywgdGhpcy5jb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHJlcyk7CgogICAgICAgIF90aGlzMi5nZXRBbGxDb25maWcoKTsgLy8gSGFyZCBjb2RlIGhlcmUsIHRoZSBpbmRleCA1IGlzIHRoZSBgZGVmYXVsdF9sYW5ndWFnZWAuCgoKICAgICAgICBfdGhpczIuJGkxOG4ubG9jYWxlID0gX3RoaXMyLmNvbmZpZ1s1XS5WYWx1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Config.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAPA,qBAOA;AACA,SAAA,YAAA;AACA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,CAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,CAAA,EAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,CAAA,EAAA,KAAA,KAAA,MAAA;AACA;AACA;AACA,OARA,EAQA,KARA,CAQA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AAAA,OARA;AASA,KAXA;AAYA,IAAA,UAZA,wBAYA;AAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA;AACA,YAAA,KAAA,MAAA,CAAA,CAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,CAAA,EAAA,KAAA,GAAA,KAAA,MAAA,CAAA,CAAA,EAAA,KAAA,CAAA,QAAA,EAAA;AACA;AACA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAAA,MAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA;;AACA,QAAA,MAAA,CAAA,YAAA,GAFA,CAGA;;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,CAAA,CAAA,EAAA,KAAA;AACA,OALA,EAKA,KALA,CAKA,UAAA,GAAA;AAAA,eAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AAAA,OALA;AAMA;AAzBA;AAVA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"8\" :offset=\"7\">\n        <el-form label-width=\"250px\">\n          <el-form-item v-for=\"(c, index) in config\" v-bind:key=\"index\" :label=\"$t(`config.${c.Key}`)\">\n            <el-input v-if=\"c.Kind === 0\" v-model=\"config[index].Value\"></el-input>\n            <el-switch v-if=\"c.Kind === 1\" v-model=\"config[index].Value\"></el-switch>\n            <el-select v-if=\"c.Kind === 2\" v-model=\"config[index].Value\" placeholder=\"\">\n              <el-option\n                  v-for=\"(item, index) in c.Options.split('|')\"\n                  :key=\"index\"\n                  :label=\"item\"\n                  :value=\"item\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveConfig\">{{ $t('config.save') }}</el-button>\n          </el-form-item>\n        </el-form>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Config\",\n  data() {\n    return {\n      config: [],\n    }\n  },\n  mounted() {\n    this.getAllConfig()\n  },\n  methods: {\n    getAllConfig() {\n      this.utils.GET('/manager/configs').then(res => {\n        this.config = res\n        for (let i = 0; i < this.config.length; i++) {\n          // Convert the string to boolean\n          if (this.config[i].Kind === 1) {\n            this.config[i].Value = this.config[i].Value === 'true'\n          }\n        }\n      }).catch(err => this.$message.error(err))\n    },\n    saveConfig() {\n      for (let i = 0; i < this.config.length; i++) {\n        // Convert the boolean to string\n        if (this.config[i].Kind === 1) {\n          this.config[i].Value = this.config[i].Value.toString()\n        }\n      }\n      this.utils.PUT('/manager/config', this.config).then(res => {\n        this.$message.success(res)\n        this.getAllConfig()\n        // Hard code here, the index 5 is the `default_language`.\n        this.$i18n.locale = this.config[5].Value\n      }).catch(err => this.$message.error(err))\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}