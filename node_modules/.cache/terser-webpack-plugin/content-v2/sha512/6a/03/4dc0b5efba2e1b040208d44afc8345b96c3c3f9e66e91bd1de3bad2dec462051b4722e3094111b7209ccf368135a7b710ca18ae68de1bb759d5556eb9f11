{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0de6a8\"],{\"860d\":function(e,o,t){\"use strict\";t.r(o);var i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t(\"div\",[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(o){e.newWebHookDialogVisible=!0}}},[e._v(e._s(e.$t(\"webhook.add\")))]),t(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.isLoading,expression:\"isLoading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.webHookList,stripe:\"\"}},[t(\"el-table-column\",{attrs:{width:\"80\",prop:\"ID\",label:\"ID\"}}),t(\"el-table-column\",{attrs:{prop:\"URL\",label:e.$t(\"webhook.url\")}}),t(\"el-table-column\",{attrs:{prop:\"Type\",label:e.$t(\"webhook.type\")},scopedSlots:e._u([{key:\"default\",fn:function(o){return[e._v(e._s(e.typeOptions[o.row.Type]))]}}])}),t(\"el-table-column\",{attrs:{prop:\"Token\",label:e.$t(\"webhook.token\")}}),t(\"el-table-column\",{attrs:{width:\"120\",prop:\"Retry\",label:e.$t(\"webhook.retry\")}}),t(\"el-table-column\",{attrs:{width:\"120\",prop:\"Timeout\",label:e.$t(\"webhook.timeout\")}}),t(\"el-table-column\",{attrs:{label:e.$t(\"general.operate\"),width:\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(o){return[t(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(){e.editWebHookForm=JSON.parse(JSON.stringify(o.row)),e.editWebHookDialogVisible=!0}}},[e._v(\" \"+e._s(e.$t(\"general.edit\"))+\" \")]),t(\"el-popconfirm\",{attrs:{confirmButtonText:e.$t(\"general.confirm_cancel\"),cancelButtonText:e.$t(\"general.cancel\"),icon:\"el-icon-info\",iconColor:\"red\",title:e.$t(\"webhook.delete_title\")},on:{onConfirm:function(t){return e.handleDelete(o.row)}}},[t(\"el-button\",{attrs:{slot:\"reference\",size:\"mini\",type:\"danger\"},slot:\"reference\"},[e._v(e._s(e.$t(\"general.delete\"))+\" \")])],1)]}}])})],1),t(\"el-dialog\",{attrs:{title:e.$t(\"webhook.add\"),visible:e.newWebHookDialogVisible},on:{\"update:visible\":function(o){e.newWebHookDialogVisible=o}}},[t(\"el-form\",{attrs:{model:e.newWebHookForm,\"label-width\":\"120px\"}},[t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.url\")}},[t(\"el-input\",{model:{value:e.newWebHookForm.URL,callback:function(o){e.$set(e.newWebHookForm,\"URL\",o)},expression:\"newWebHookForm.URL\"}})],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.type\")}},[t(\"el-select\",{attrs:{placeholder:e.$t(\"webhook.please_select\")},model:{value:e.newWebHookForm.Type,callback:function(o){e.$set(e.newWebHookForm,\"Type\",o)},expression:\"newWebHookForm.Type\"}},e._l(e.typeOptions,(function(e,o){return t(\"el-option\",{key:o,attrs:{label:e,value:o}})})),1)],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.token\")}},[t(\"el-input\",{model:{value:e.newWebHookForm.Token,callback:function(o){e.$set(e.newWebHookForm,\"Token\",o)},expression:\"newWebHookForm.Token\"}}),t(\"p\",[e._v(e._s(e.$t(\"webhook.token_tips\")))])],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.retry\")}},[t(\"el-input-number\",{attrs:{min:0},model:{value:e.newWebHookForm.Retry,callback:function(o){e.$set(e.newWebHookForm,\"Retry\",o)},expression:\"newWebHookForm.Retry\"}})],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.timeout\")}},[t(\"el-input-number\",{attrs:{min:0},model:{value:e.newWebHookForm.Timeout,callback:function(o){e.$set(e.newWebHookForm,\"Timeout\",o)},expression:\"newWebHookForm.Timeout\"}}),t(\"p\",[e._v(e._s(e.$t(\"webhook.timeout_tips\")))])],1)],1),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.onNewWebHook}},[e._v(e._s(e.$t(\"webhook.publish\")))])],1),t(\"el-dialog\",{attrs:{title:e.$t(\"webhook.edit\"),visible:e.editWebHookDialogVisible},on:{\"update:visible\":function(o){e.editWebHookDialogVisible=o}}},[t(\"el-form\",{attrs:{model:e.editWebHookForm,\"label-width\":\"120px\"}},[t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.url\")}},[t(\"el-input\",{model:{value:e.editWebHookForm.URL,callback:function(o){e.$set(e.editWebHookForm,\"URL\",o)},expression:\"editWebHookForm.URL\"}})],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.type\")}},[t(\"el-select\",{attrs:{placeholder:e.$t(\"webhook.please_select\")},model:{value:e.editWebHookForm.Type,callback:function(o){e.$set(e.editWebHookForm,\"Type\",o)},expression:\"editWebHookForm.Type\"}},e._l(e.typeOptions,(function(e,o){return t(\"el-option\",{key:o,attrs:{label:e,value:o}})})),1)],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.token\")}},[t(\"el-input\",{model:{value:e.editWebHookForm.Token,callback:function(o){e.$set(e.editWebHookForm,\"Token\",o)},expression:\"editWebHookForm.Token\"}}),t(\"p\",[e._v(e._s(e.$t(\"webhook.token_tips\")))])],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.retry\")}},[t(\"el-input-number\",{attrs:{min:0},model:{value:e.editWebHookForm.Retry,callback:function(o){e.$set(e.editWebHookForm,\"Retry\",o)},expression:\"editWebHookForm.Retry\"}})],1),t(\"el-form-item\",{attrs:{label:e.$t(\"webhook.timeout\")}},[t(\"el-input-number\",{attrs:{min:0},model:{value:e.editWebHookForm.Timeout,callback:function(o){e.$set(e.editWebHookForm,\"Timeout\",o)},expression:\"editWebHookForm.Timeout\"}}),t(\"p\",[e._v(e._s(e.$t(\"webhook.timeout_tips\")))])],1)],1),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.onEditWebHook}},[e._v(e._s(e.$t(\"webhook.edit\")))])],1)],1)},n=[],l={name:\"WebHook\",data:function(){return{webHookList:[],isLoading:!0,newWebHookDialogVisible:!1,editWebHookDialogVisible:!1,newWebHookForm:{URL:\"\",Type:\"\",Token:\"\",Retry:0,Timeout:0},editWebHookForm:{},typeOptions:{any:this.$i18n.t(\"webhook.type_any\"),new_round:this.$i18n.t(\"webhook.type_new_round\"),submit_flag:this.$i18n.t(\"webhook.type_submit_flag\"),game_begin:this.$i18n.t(\"webhook.type_game_begin\"),game_pause:this.$i18n.t(\"webhook.type_game_pause\"),game_end:this.$i18n.t(\"webhook.type_game_end\")}}},mounted:function(){this.getWebHooks()},methods:{getWebHooks:function(){var e=this;this.utils.GET(\"/manager/webhooks\").then((function(o){e.webHookList=o,e.isLoading=!1})).catch((function(o){return e.$message.error(o)}))},onNewWebHook:function(){var e=this;this.utils.POST(\"/manager/webhook\",this.newWebHookForm).then((function(o){e.$message.success(o),e.newWebHookDialogVisible=!1,e.newWebHookForm={URL:\"\",Type:\"\",Token:\"\",Retry:0,Timeout:0},e.getWebHooks()})).catch((function(o){e.$message.error(o)}))},onEditWebHook:function(){var e=this;this.utils.PUT(\"/manager/webhook\",this.editWebHookForm).then((function(o){e.$message.success(o),e.editWebHookDialogVisible=!1,e.getWebHooks()})).catch((function(o){e.$message.error(o)}))},handleDelete:function(e){var o=this;this.utils.DELETE(\"/manager/webhook?id=\"+e.ID).then((function(e){o.$message({message:e,type:\"success\"}),o.getWebHooks()})).catch((function(e){return o.$message({message:e,type:\"error\"})}))}}},r=l,a=t(\"2877\"),s=Object(a[\"a\"])(r,i,n,!1,null,\"3e52274a\",null);o[\"default\"]=s.exports}}]);","extractedComments":[]}